{%- assign globo_search = true -%}
{%- assign home_filter = false -%}
{%- assign has_form = false -%}
{%- if request.page_type != 'index' -%}{%- assign home_filter = false -%}{%- endif -%}
{%- if globo_search or request.page_type == 'collection' or request.page_type == 'search' or home_filter or has_form -%}
{%- assign assets_url = 'product-1.png' | asset_img_url: '50x' | split: 'product-1_50x.png' -%}
{%- assign files_url  = 'product-1.png' | file_img_url: '50x' | split: 'product-1_50x.png' -%}
{%- assign primary_locale = 'null' -%}
{%- for locale in shop.published_locales -%}{%- if locale.primary -%}{%- assign primary_locale = locale.iso_code | json -%}{%- endif -%}{%- endfor -%}
<style>.spf-filter-loading #gf-products > *:not(.spf-product--skeleton){visibility: hidden; opacity: 0}</style>
<script type="lazyload2">
  document.getElementsByTagName('html')[0].classList.add('spf-filter-loading');
  window.addEventListener("globoFilterRenderCompleted",function(e){document.getElementsByTagName('html')[0].classList.remove('spf-filter-loading')})
  window.sortByRelevance = false;
  window.moneyFormat = "{{ shop.money_format | replace: '"', "'" }}";
  window.GloboMoneyFormat = "{{ shop.money_format | replace: '"', "'" }}";
  window.GloboMoneyWithCurrencyFormat = "{{ shop.money_with_currency_format | replace: '"', "'" }}";
  window.filterPriceRate = 1;
  window.filterPriceAdjustment = 1;

  window.shopCurrency = {{shop.currency | json}};
  window.currentCurrency = {{cart.currency.iso_code | json}};

  window.isMultiCurrency = {% assign enabled_currencies_size = shop.enabled_currencies | size %}{% if enabled_currencies_size > 1 and false %}true{% else %}false{% endif %};
  window.globoFilterAssetsUrl = '{{ assets_url[0] }}';
  window.assetsUrl = '{{ assets_url[0] }}';
  window.filesUrl = '{{ files_url[0] }}';
  var page_id = {% if request.page_type contains 'collection' %}{% if collection.id %}{{collection.id | default: 1}}{% else %}1{% endif %}{% elsif request.page_type contains 'search' %}2{% else %}0{% endif %};
  var globo_filters_json = {"default":0,"96679919712":4573,"96679395424":4573,"96676446304":4573,"96978829408":25173,"96978894944":25173,"96978960480":25173,"96978665568":25173,"167171489888":25173,"167174307936":4573,"167174242400":4573,"167174275168":4573,"167174340704":4573,"167174406240":4573,"167171555424":25173,"167174668384":4573,"167174701152":4573,"167174504544":4573,"167174471776":4573,"167174570080":4573,"167174439008":4573,"167174537312":4573,"167174602848":4573,"167174635616":4573,"167177781344":4573,"167177748576":4573,"167177650272":4573,"167177683040":4573,"167177715808":4573,"167177617504":4573,"167177551968":4573,"167177814112":4573,"167178010720":4573,"167177977952":4573,"167177879648":4573,"167177846880":4573,"167177912416":4573,"167178076256":4573,"167177945184":4573,"167178043488":4573,"167178305632":4573,"167178436704":4573,"167178338400":4573,"167178469472":4573,"167178141792":4573,"167178174560":4573,"167178207328":4573,"167178502240":4573,"167178240096":4573,"167178731616":4573,"167178600544":4573,"167178797152":4573,"167178895456":30938,"167178829920":4573,"167178567776":4573,"167178698848":4573,"167178862688":4573,"167178666080":4573,"167179124832":4573,"167179157600":4573,"167179190368":4573,"167179092064":4573,"167179059296":4573,"167179026528":4573,"167179255904":4573,"167179223136":4573,"167179321440":4573,"167179550816":4573,"167179518048":4573,"167179386976":4573,"167179354208":4573,"167179419744":4573,"167179485280":4573,"167182139488":4573,"167182008416":4573,"167182073952":4573,"167179583584":4573,"167182172256":4573,"167182205024":4573,"167182598240":4573,"167182663776":4573,"167182303328":4573,"167182499936":4573,"167182467168":4573,"167182565472":4573,"167182631008":4573,"167182336096":4573,"167182532704":4573,"167183220832":4573,"167182893152":4573,"167182827616":4573,"167182729312":4573,"167183188064":4573,"167182696544":4573,"167182860384":4573,"167182925920":4573,"167183450208":4573,"167183417440":4573,"167183319136":4573,"167183351904":4573,"167183384672":4573,"167183482976":4573,"167183253600":4573,"167183548512":4573,"167183515744":4573,"167183679584":4573,"167183646816":4573,"167183581280":4573,"167185252448":4573,"167183614048":4573,"167185449056":4573,"167183712352":4573,"167185350752":4573,"167185481824":4573,"167186038880":4573,"167185645664":4573,"167186104416":4573,"167186071648":4573,"167186235488":4573,"167185612896":4573,"167186137184":4573,"167186202720":4573,"167185580128":4573,"167186268256":4573,"167187611744":4573,"167187513440":4573,"167187841120":4573,"167187054688":4573,"167187644512":4573,"167187578976":4573,"167187906656":4573,"167187087456":4573,"167193706592":4573,"167188332640":4573,"167193903200":4573,"167188037728":4573,"167188267104":4573,"167193804896":4573,"167188299872":4573,"167188070496":4573,"167188168800":4573,"167194165344":4573,"167194329184":4573,"167206944864":4573,"167230865504":4573,"167195770976":4573,"167230898272":4573,"260444520544":4573,"261382144096":4573,"261778243680":4573,"261553717344":30938,"261778341984":4573,"261778374752":4573,"261778407520":4573,"261778505824":4573,"261778604128":4573,"261778276448":4573,"261778309216":4573,"261778571360":4573,"261778538592":4573,"261778669664":4573,"261778636896":4573,"262065324128":4573,"2":25173,"167171326048":25173,"167171424352":25173,"167171522656":25173,"167171457120":25173,"167230505056":25173,"260444487776":25173,"167232602208":25173,"260618223712":25173,"1":25173,"167178928224":30938,"167178993760":30938,"167178960992":30938,"167182106720":30938,"167182041184":30938,"167182270560":30938,"167182762080":30938,"96676118624":31132,"96676249696":31132,"96676151392":31132,"96676216928":31132,"96675856480":31132,"96676020320":31132,"96676184160":31132,"96676315232":31132,"96675954784":31132,"96676413536":31132,"97641201760":31132,"166816874592":31132,"167195902048":31132,"167206977632":31132,"167230799968":31132,"260757422176":31132,"260803035232":31132,"260444422240":31132,"260803068000":31132,"260803100768":31132,"260803133536":31132,"260803199072":31132,"260803297376":31132,"260803330144":31132,"260803362912":31132,"260803166304":31132,"260803231840":31132,"260803526752":31132,"260803395680":31132,"260803493984":31132,"260803461216":31132,"260803559520":31132,"260803690592":31132,"260803428448":31132,"260803592288":31132,"260803657824":31132,"260814241888":31132,"260836524128":31132,"260836491360":31132,"260835901536":31132,"260803821664":31132,"260803788896":31132,"260835934304":31132,"260803723360":31132,"260803756128":31132,"260836589664":31132,"260836556896":31132,"260836851808":31132,"260836819040":31132,"260836687968":31132,"260836720736":31132,"260836753504":31132,"260836786272":31132,"260836917344":31132,"260837146720":31132,"260837113952":31132,"260837015648":31132,"260837048416":31132,"260837081184":31132,"260837179488":31132,"260836982880":31132,"261827035232":31132,"261826838624":31132,"261826936928":31132,"261826969696":31132,"261826904160":31132,"261826871392":31132,"261831098464":31132,"261870190688":31132,"261880512608":31132,"96718454880":31998,"96718389344":31998,"96718258272":31998,"96718356576":31998,"96718422112":31998,"96718520416":31998,"96718487648":31998,"261709594720":31998,"261709561952":31998,"261709758560":31998,"261709627488":31998,"261709693024":31998,"261869568096":31998,"261869502560":31998,"261869469792":31998,"261869600864":31998}
  var GloboFilterConfig = {
    api: {
      filterUrl: "https://filter-v1.globosoftware.net/filter",
      searchUrl: "https://filter-v1.globosoftware.net/search",
      url: "https://filter-v1.globosoftware.net",
    },
    shop: {
      name: "{{ shop.name | escape }}",
      url: "{{ shop.url }}",
      domain: "{{ shop.permanent_domain }}",
      is_multicurrency: {% assign is_multicurrency = shop.enabled_currencies | size %}{% if is_multicurrency > 1 and true and true %}true{% else %}false{% endif %},
      currency: {{shop.currency | json}},
      cur_currency: {{cart.currency.iso_code | json}},
      cur_locale: {{request.locale.iso_code | json}},
      locale: {{primary_locale}},
      root_url: "{%- if routes.root_url != "/" -%}{{ routes.root_url }}{%- endif -%}",
      country_code: {{shop.address.country_code | json}},
      product_image: {width: 500, height: 500},
      no_image_url: "https://cdn.shopify.com/s/images/themes/product-1.png",
      themeStoreId: 868,
      swatches:  {{ shop.metafields.globo.swatches | json }},
      newUrlStruct: false,
      translation: {"default":{"search":{"suggestions":"Suggestions","collections":"Collections","pages":"Pages","products":"Products","view_all":"Search for","not_found":"Sorry, nothing found for"},"filter":{"filter_by":"Filter By","clear_all":"Clear All","clear":"Clear","in_stock":"In Stock","out_of_stock":"Out of Stock","ready_to_ship":"Ready to ship"},"sort":{"sort_by":"Sort By","manually":"Featured","availability_in_stock_first":"Availability","best_selling":"Best Selling","alphabetically_a_z":"Alphabetically, A-Z","alphabetically_z_a":"Alphabetically, Z-A","price_low_to_high":"Price, low to high","price_high_to_low":"Price, high to low","date_new_to_old":"Date, new to old","date_old_to_new":"Date, old to new","sale_off":"% Sale off"},"product":{"add_to_cart":"Add to cart","unavailable":"Unavailable","sold_out":"Sold out","sale":"Sale","load_more":"Load more","limit":"Show"},"labels":{"collection":"Collection","vendor":"Vendor","product-type":"Product Type","price":"Price","percent-sale":"Percent Sale","availability":"Availability","tag":"Tag","ring-size":"Ring Size","metal-type":"Metal Type"}}},
      redirects: {{ shop.metafields.globo.redirects | json }},
      images: ["blank.png","password-page-background.jpg","pixel.jpg"],
      settings: {{ settings | json }},
      separate_options: null,
      home_filter: {{home_filter}},
      page: {{request.page_type | json}},
      layout: "theme"
    },
    taxes: null,
    special_countries: null,
    adjustments: null,

    year_make_model: {
      id: null
    },
    filter: {
      id: globo_filters_json[page_id] || globo_filters_json['default'] || 0,
      layout: 1,
      showCount: true,
      isLoadMore: 0,
      filter_on_search_page: true
    },
    search:{
      enable: {{globo_search}},
      zero_character_suggestion: false,
      layout: 2,
    },
    collection: {
      id: {%- if request.page_type == 'collection' -%}{{ collection.id | default: 0 }}{%- else -%}0{%- endif -%},
      handle: {%- if request.page_type == 'collection' -%}'{{ collection.handle }}'{%- else -%}''{%- endif -%},
      sort: {% if request.page_type contains 'collection' %}"{{ collection.default_sort_by | default: 'best-selling' }}"{% elsif request.page_type contains 'search' %}'relevance'{% else %}'best-selling'{% endif %},
      tags: {% if current_tags %}[{% for tag in current_tags %}{{ tag | json }},{{ tag | handle | json }}{% unless forloop.last %},{% endunless %}{% endfor %}]{% else %}null{% endif %},
      vendor: {{ collection.current_vendor | json }},
      type: {{ collection.current_type | json }},
      term: {{ search.terms | escape | json }},
      limit: 36,
      products_count: {{collection.products_count | default: 0}},
      excludeTags: null
    },
    customer: {% if customer %}{id: {{customer.id}}, tags: {{customer.tags | json}}}{% else %}false{% endif %},
    selector: {
      sortBy: '.collection-sorting',
      pagination: '.pagination:first, .paginate:first, .pagination-custom:first, #pagination:first, #gf_pagination_wrap',
      products: '.grid.grid-collage'
    }
  };

</script>
<script defer type="lazyload2" data-src="{{ 'v5.globo.filter.lib.js' | asset_url }}"></script>
{% if request.page_type == 'collection' or request.page_type == 'search' or home_filter or has_form %}<link rel="stylesheet" data-href="{{ 'v5.globo.filter.css' | asset_url }}" as="style">
{% endif %}
{% if globo_search %}<link rel="stylesheet" data-href="{{ 'v5.globo.search.css' | asset_url }}" as="style">
{% endif %}
{% endif %}



  <script type="lazyload2">
    window.addEventListener('globoFilterRenderSearchCompleted', function () {
      if (document.querySelector('.search__popdown__close__inner') !== null) {
        document.querySelector('.search__popdown__close__inner').dispatchEvent(new Event('click'));
      }
      setTimeout(function(){
        document.querySelector('.gl-d-searchbox-input').focus();
      }, 600);
    });
  </script>
